(function(k,p,q,u){function n(a){var c=a.option,d=c.color,b=c.secondaryColor,e=c.radius,f=c.containerHeight,g=c.containerWidth,h=c.barWidth,c=c.barMargin;a.holder.html('<div class="zepto-sliderlock"><div class="zepto-sliderlock-bar"></div></div>').children(".zepto-sliderlock").css({width:(g||0)+"px",height:(f||0)+"px",background:d||"#ffffff","border-radius":(e||0)+"px",position:"relative"}).children(".zepto-sliderlock-bar").css({height:f-2*c+"px",width:(h||0)+"px",background:b||"#ffffff","border-radius":(e||
0)+"px",margin:(c||0)+"px",position:"absolute"});a.bar=a.holder.find(".zepto-sliderlock-bar").first()}function m(){}function h(a,c){var d=this,b=d.token=Math.random(),b=g[b]=new m,e=b.holder=k(a);0!=e.length&&(b.object=d,c=b.option=k.extend({},h.defaults,c),n(b),"static"==e.css("position")&&e.css("position","relative"),b.option.init=(c.init||l)(),b.option.arrival=c.arrival||l,b.option.succeed=c.succeed||l,b.option.failed=c.failed||l,e.on("touchstart mousedown",function(a){r.call(this,a,d)}))}var l=
function(){},g={},r=function(a,c){a.preventDefault();var d=g[c.token];if(!d.disabled){var b="touchstart"==a.type?"touchmove":"mousemove",e="touchstart"==a.type?"touchend":"mouseup";d.startPoint(a.pageX||a.touches[0].pageX);k(this).on(b+".bar-move",function(a){t.call(this,a,c)});k(q).one(e,function(){a.preventDefault();var b=g[c.token],d=b.option,e=d.containerWidth-d.barMargin-d.barWidth,h=b.getDistance().distance;b.holder.off(".bar-move");e-h<d.triggerDistance&&b.option.succeed();b.bar.css({"margin-left":d.barMargin+
"px"});e-h>d.triggerDistance&&b.option.failed()})}},t=function(a,c){a.preventDefault();var d=g[c.token],b=d.option,e=b.containerWidth-b.barMargin-b.barWidth,f=d.refreshDistance(a.pageX||a.touches[0].pageX).distance;!d.disabled&&f&&(f=f<b.barMargin?b.barMargin:f,f=f<e?f:e,b.magnet&&e-f<b.triggerDistance&&(f=e),d.bar.css({"margin-left":f+"px"}),b.magnet&&e-f<b.triggerDistance&&(d.disabled=!0,d.option.arrival(),setTimeout(function(){d.disabled=!1},0)))};m.prototype={constructor:m,startPoint:function(a){this.start=
a},refreshDistance:function(a){this.distance=a-=this.start;return{distance:a}},getDistance:function(){return{distance:this.distance}}};h.prototype={constructor:h,option:function(a,c){var d=g[this.token],b=d.option;if(c)b[a]=c,"margin"!=a&&"matrix"!=a&&"radius"!=a||n(d);else return b[a]},enable:function(){g[this.token].disabled=!1},disable:function(){g[this.token].disabled=!0},lock:function(){g[this.token].holder.off(".bar-move")},reset:function(){var a=g[this.token];a.holder.off(".bar-move");a.bar.css({"margin-left":a.option.barMargin+
"px"})}};h.defaults={color:"#dfdfdf",secondaryColor:"#64bd63",radius:10,containerHeight:40,containerWidth:200,barWidth:50,barMargin:3,triggerDistance:30,magnet:!0};p.SliderLock=h})(Zepto,window,document);